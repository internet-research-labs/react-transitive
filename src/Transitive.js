function Transitive(){this.prevState="UNSTARTED",this.currentState="UNSTARTED",this.queue=[],this.events={UNSTARTED:null,STARTING:null,REQUESTING:null,WAITING:null,WORKING:null,ERROR:null,SUCCESS:null}}Transitive.EVENT_NAMES=["UNSTARTED","STARTING","REQUESTING","WAITING","WORKING","ERROR","SUCCESS"],Transitive.prototype.trigger=function(t,e){this.events[t]&&this.events[t].call(this,e)},Transitive.prototype.on=function(t,e){t in this.events&&(this.events[t]=e)},Transitive.prototype.off=function(t){this.events[t]&&(this.events[t]=null)},Transitive.prototype.changeState=function(t){t in this.events&&(this.prevState=this.currentState,this.currentState=t,this.trigger(t))},Transitive.prototype.enqueue=function(t){this.queue.unshift(t)},Transitive.prototype.process=function(){var t=this.queue.shift();this.changeState(t)};